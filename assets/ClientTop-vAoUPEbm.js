import{_ as M,o as r,c as y,w as l,a as t,q as c,s as _,d as o,t as a,e as N,u as L,g as u,j as m,v as T,F as E,f as g,V as p,b as f,h as I,p as O,l as z,m as K,x as D,n as R,y as P,z as x,A,B as C,C as k,D as W,E as B,G as q,I as b,J as G,r as U}from"./index-CtCCPzIL.js";const J={name:"ClientInfo",props:{currentView:{type:String,required:!0}},data(){return{userName:"山田 太郎",reservation:[{name:"予約1",value:"2024-12-10 15:00～15:30"},{name:"予約2",value:"2024-12-15 14:30～15:30"}]}},methods:{toHisPage(){alert("診察履歴ページに遷移")},toModPage(){alert("ユーザ情報変更ページに遷移")}}},X={class:"list-name"},Y={class:"list-value"};function Q(s,e,h,v,i,d){return r(),y(I,null,{default:l(()=>[t(g,{justify:"center"},{default:l(()=>[t(c,{class:"pa-4 mt-4","max-width":"600"},{default:l(()=>[t(_,null,{default:l(()=>[o(a(i.userName)+" 様の予約状況",1)]),_:1}),t(N,{thickness:"2"}),t(L,{"fixed-header":""},{default:l(()=>[u("tbody",null,[(r(!0),m(E,null,T(i.reservation,n=>(r(),m("tr",{key:n.name},[u("td",X,a(n.name),1),u("td",Y,a(n.value),1)]))),128))])]),_:1})]),_:1})]),_:1}),t(g,{class:"mt-10"},{default:l(()=>[t(p,null,{default:l(()=>[t(f,{"prepend-icon":"mdi-calendar-check",onClick:e[0]||(e[0]=n=>s.$emit("switch-view","reservation"))},{default:l(()=>e[3]||(e[3]=[o("診察予約する")])),_:1})]),_:1}),t(p,null,{default:l(()=>[t(f,{"prepend-icon":"mdi-history",onClick:e[1]||(e[1]=n=>s.$emit("switch-view","history"))},{default:l(()=>e[4]||(e[4]=[o("診察履歴")])),_:1})]),_:1}),t(p,null,{default:l(()=>[t(f,{"prepend-icon":"mdi-account-outline",onClick:e[2]||(e[2]=n=>s.$emit("switch-view","account"))},{default:l(()=>e[5]||(e[5]=[o("ユーザ登録情報")])),_:1})]),_:1})]),_:1})]),_:1})}const Z=M(J,[["render",Q],["__scopeId","data-v-1ba0eda5"]]),$={name:"Reservation",props:{currentView:{type:String,required:!0}},data(){return{showDateSlotDialog:!1,reserveDate:null,daySlots:[],dateError:null,showTimeSlotDialog:!1,reserveTime:null,timeSlots:[],timeError:null,showConfirmDialog:!1,note:"",showCompleteDialog:!1}},created(){this.generateDaySlots(),this.generateTimeSlots("10:00","18:00",15)},methods:{generateDaySlots(){const s=["日","月","火","水","木","金","土"],e=new Date;for(let h=0;h<=2;h++){const v=new Date(e);v.setDate(e.getDate()+h);const i=v.getFullYear(),d=String(v.getMonth()+1).padStart(2,"0"),n=String(v.getDate()).padStart(2,"0"),w=s[v.getDay()];this.daySlots.push(`${i}-${d}-${n} (${w})`)}},generateTimeSlots(s,e,h){const v=[],[i,d]=s.split(":").map(Number),[n,w]=e.split(":").map(Number);let V=i,S=d;for(;V<n||V===n&&S<w;){const H=S+h;let j=V;H>=60&&(j+=1);const F=`${this.padTime(V)}:${this.padTime(S)}`;v.push(`${F}`),V=j,S=H%60}this.timeSlots=v},padTime(s){return s.toString().padStart(2,"0")},selectDaySlot(s){this.reserveDate=s,this.reserveTime=null,this.showDateSlotDialog=!1},selectTimeSlot(s){this.reserveTime=s,this.showTimeSlotDialog=!1},validateDate(s){return s&&s!==null},validateTime(s){return s&&s!==""},handleReserve(){this.dateError=null,this.timeError=null,this.validateDate(this.reserveDate)||(this.dateError="Please enter a valid date."),this.validateTime(this.reserveTime)||(this.timeError="Please enter a valid time."),!this.dateError&&!this.timeError&&(this.showConfirmDialog=!0)},registerReservation(){this.showConfirmDialog=!1,this.showCompleteDialog=!0}}},ee={key:0},te={key:1},le={class:"text-left"},ie={class:"text-left"},ne={class:"text-left"};function se(s,e,h,v,i,d){return r(),y(I,null,{default:l(()=>[t(g,{justify:"center"},{default:l(()=>[t(O,{class:"reservation",width:"400"},{default:l(()=>[t(z,{class:"form",onSubmit:K(d.handleReserve,["prevent"])},{default:l(()=>[t(I,{class:"d-flex flex-column"},{default:l(()=>[t(D,{modelValue:i.showDateSlotDialog,"onUpdate:modelValue":e[2]||(e[2]=n=>i.showDateSlotDialog=n),"max-width":"400px"},{activator:l(({props:n})=>[t(R,P({modelValue:i.reserveDate,"onUpdate:modelValue":e[0]||(e[0]=w=>i.reserveDate=w),label:"予約希望日を選択してください","prepend-icon":"mdi-calendar",readonly:""},n),null,16,["modelValue"])]),default:l(()=>[t(c,null,{default:l(()=>[t(_,{class:"text-h6"},{default:l(()=>e[12]||(e[12]=[o("予約希望日選択")])),_:1}),t(x,null,{default:l(()=>[t(A,null,{default:l(()=>[(r(!0),m(E,null,T(i.daySlots,(n,w)=>(r(),y(B,{key:w,onClick:V=>d.selectDaySlot(n)},{default:l(()=>[t(q,null,{default:l(()=>[o(a(n),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(C,null,{default:l(()=>[t(f,{text:"",onClick:e[1]||(e[1]=n=>i.showDateSlotDialog=!1)},{default:l(()=>e[13]||(e[13]=[o("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),this.validateDate(this.reserveDate)?(r(),m("div",ee,[t(D,{modelValue:i.showTimeSlotDialog,"onUpdate:modelValue":e[5]||(e[5]=n=>i.showTimeSlotDialog=n),"max-width":"400px"},{activator:l(({props:n})=>[t(R,P({modelValue:i.reserveTime,"onUpdate:modelValue":e[3]||(e[3]=w=>i.reserveTime=w),label:"希望時刻を選択してください","prepend-icon":"mdi-clock-time-four-outline",readonly:""},n),null,16,["modelValue"])]),default:l(()=>[t(c,null,{default:l(()=>[t(_,{class:"text-h6"},{default:l(()=>e[14]||(e[14]=[o("予約時刻選択")])),_:1}),t(x,null,{default:l(()=>[t(A,null,{default:l(()=>[(r(!0),m(E,null,T(i.timeSlots,(n,w)=>(r(),y(B,{key:w,onClick:V=>d.selectTimeSlot(n)},{default:l(()=>[t(q,null,{default:l(()=>[o(a(n),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(C,null,{default:l(()=>[t(f,{text:"",onClick:e[4]||(e[4]=n=>i.showTimeSlotDialog=!1)},{default:l(()=>e[15]||(e[15]=[o("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):k("",!0),this.validateDate(this.reserveDate)&&this.validateTime(this.reserveTime)?(r(),m("div",te,[t(W,{"prepend-icon":"mdi-comment-edit-outline",label:"備考があれば入力してください",density:"compact",modelValue:this.note,"onUpdate:modelValue":e[6]||(e[6]=n=>this.note=n),maxlength:"100",rows:"2"},null,8,["modelValue"])])):k("",!0)]),_:1}),this.validateDate(this.reserveDate)&&this.validateTime(this.reserveTime)?(r(),y(f,{key:0,class:"submit-button",onClick:this.handleReserve,"append-icon":"mdi-calendar"},{default:l(()=>e[16]||(e[16]=[o("予約確認画面へ")])),_:1},8,["onClick"])):k("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(p,null,{default:l(()=>[t(f,{"prepend-icon":"mdi-arrow-left-circle-outline",onClick:e[7]||(e[7]=n=>s.$emit("switch-view","clientInfo"))},{default:l(()=>e[17]||(e[17]=[o("ユーザページTOPへ")])),_:1})]),_:1})]),_:1}),t(D,{modelValue:i.showConfirmDialog,"onUpdate:modelValue":e[9]||(e[9]=n=>i.showConfirmDialog=n),"max-width":"500"},{default:l(()=>[t(c,null,{default:l(()=>[t(_,null,{default:l(()=>e[18]||(e[18]=[o("この内容で予約します")])),_:1}),t(x,null,{default:l(()=>[t(g,null,{default:l(()=>[t(L,{"fixed-header":"",density:"compact"},{default:l(()=>[u("tbody",null,[u("tr",null,[e[19]||(e[19]=u("td",{class:"text-right"},"予約日 :",-1)),u("td",le,a(i.reserveDate),1)]),u("tr",null,[e[20]||(e[20]=u("td",{class:"text-right"},"時刻 :",-1)),u("td",ie,a(i.reserveTime),1)]),u("tr",null,[e[21]||(e[21]=u("td",{class:"text-right"},"備考 :",-1)),u("td",ne,a(i.note),1)])])]),_:1})]),_:1})]),_:1}),t(C,null,{default:l(()=>[t(f,{color:"primary",onClick:e[8]||(e[8]=n=>i.showConfirmDialog=!1)},{default:l(()=>e[22]||(e[22]=[o("修正する")])),_:1}),t(f,{class:"register-button",text:"予約する","append-icon":"mdi-book-plus-outline",onClick:d.registerReservation},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(D,{modelValue:i.showCompleteDialog,"onUpdate:modelValue":e[11]||(e[11]=n=>i.showCompleteDialog=n),"max-width":"400"},{default:l(()=>[t(c,{"prepend-icon":"mdi-check-circle-outline",title:"予約完了"},{default:l(()=>[t(x,null,{default:l(()=>e[23]||(e[23]=[o(" 予約が完了しました。"),u("br",null,null,-1),o(" ※ 予約キャンセルは、電話にて承ります。 ")])),_:1}),t(C,null,{default:l(()=>[t(f,{color:"primary",onClick:e[10]||(e[10]=n=>s.$emit("switch-view","clientInfo"))},{default:l(()=>e[24]||(e[24]=[o("閉じる")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const oe=M($,[["render",se],["__scopeId","data-v-c88234cd"]]),re={name:"ExamHistory",props:{currentView:{type:String,required:!0}},data(){return{userName:"山田 太郎",history:[{idx:1,date:"2024/05/01",time:"10:00-10:30",note:"腰回りを中心にお願いします。"},{idx:2,date:"2024/03/01",time:"15:30-16:00",note:""},{idx:3,date:"2024/02/01",time:"16:00-16:30",note:""}]}}},ue={class:"list-date"},ae={class:"list-time"},de={class:"list-note"};function fe(s,e,h,v,i,d){return r(),y(I,null,{default:l(()=>[t(g,{justify:"center"},{default:l(()=>[t(c,{class:"pa-4","max-width":"600"},{default:l(()=>[t(_,null,{default:l(()=>[o(a(i.userName)+" 様の受診履歴",1)]),_:1}),t(N,{thickness:"2"}),t(L,{"fixed-header":""},{default:l(()=>[u("tbody",null,[(r(!0),m(E,null,T(i.history,n=>(r(),m("tr",{key:n.date},[u("td",ue,a(n.date),1),u("td",ae,a(n.time),1),u("td",de,a(n.note),1)]))),128))])]),_:1})]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(p,null,{default:l(()=>[t(f,{"prepend-icon":"mdi-arrow-left-circle-outline",onClick:e[0]||(e[0]=n=>s.$emit("switch-view","clientInfo"))},{default:l(()=>e[1]||(e[1]=[o("ユーザページTOPへ")])),_:1})]),_:1})]),_:1})]),_:1})}const me=M(re,[["render",fe],["__scopeId","data-v-bf1256f8"]]),pe={name:"AccountInfo",props:{currentView:{type:String,required:!0}},created(){this.userSettings.id.value="h00001",this.userSettings.name.value="山田 太郎",this.userSettings.nameKana.value="ヤマダ タロウ",this.userSettings.mail.value="taro_yamada@xxx.test",this.userSettings.phone.value="090-1111-1111",this.userSettings.pass.value="＊＊＊＊＊＊＊＊"},data(){return{userSettings:{id:{title:"ID",value:"",editable:!1,type:"text",maxLen:0},name:{title:"氏名",value:"",editable:!1,type:"text",maxLen:0},nameKana:{title:"氏名(カナ)",value:"",editable:!1,type:"text",maxLen:0},mail:{title:"メールアドレス",value:"",editable:!0,type:"email",maxLen:255},phone:{title:"電話番号",value:"",editable:!0,type:"text",maxLen:20},pass:{title:"パスワード",value:"",editable:!0,type:"password",maxLen:64}},errMsg:"",showEditDialog:!1,editInfo:{key:"",title:"",beforeValue:"",afterValue:"",afterValueConf:""},showConfirmDialog:!1,showCompleteDialog:!1}},methods:{beginEdit(s){this.errMsg="",this.editInfo.key=s,this.editInfo.title=this.userSettings[s].title,this.editInfo.beforeValue=this.userSettings[s].value,this.editInfo.afterValue="",this.editInfo.afterValueConf="",this.showEditDialog=!0},confirmSetting(){switch(this.errMsg="",this.editInfo.key){case"mail":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.editInfo.afterValue)||(this.errMsg="正しいメールアドレスを入力してください");break;case"phone":/^[0-9\-]*$/.test(this.editInfo.afterValue)||(this.errMsg="数字とハイフンのみ入力可能です");break;case"pass":if(this.editInfo.afterValue.length<8){this.errMsg="パスワードは8文字以上で入力してください";break}if(this.editInfo.afterValue!==this.editInfo.afterValueConf){this.errMsg="「再確認」の入力と一致しません";break}break}this.errMsg===""&&(this.showEditDialog=!1,this.showConfirmDialog=!0)},registerSetting(){this.showConfirmDialog=!1,this.showCompleteDialog=!0}}},we={class:"list-title"},ge={class:"list-value"},ve={key:0},he={key:0},Ve={key:1};function ce(s,e,h,v,i,d){return r(),y(I,null,{default:l(()=>[t(g,{justify:"center"},{default:l(()=>[t(c,{class:"pa-4","max-width":"600"},{default:l(()=>[t(_,null,{default:l(()=>[o(a(this.userSettings.name.value)+" 様の登録情報",1)]),_:1}),t(N,{thickness:"2"}),t(L,{"fixed-header":""},{default:l(()=>[u("tbody",null,[(r(!0),m(E,null,T(i.userSettings,(n,w)=>(r(),m("tr",null,[u("td",we,a(n.title),1),u("td",ge,a(n.value),1),e[9]||(e[9]=u("td",null,null,-1)),n.editable?(r(),m("td",ve,[t(f,{icon:"mdi-pencil-outline",color:"blue",size:"x-small",onClick:V=>d.beginEdit(w)},null,8,["onClick"])])):k("",!0)]))),256))])]),_:1})]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(p,null,{default:l(()=>[t(f,{"prepend-icon":"mdi-arrow-left-circle-outline",onClick:e[0]||(e[0]=n=>s.$emit("switch-view","clientInfo"))},{default:l(()=>e[10]||(e[10]=[o("ユーザページTOPへ")])),_:1})]),_:1})]),_:1}),t(D,{modelValue:i.showEditDialog,"onUpdate:modelValue":e[4]||(e[4]=n=>i.showEditDialog=n),"max-width":"500"},{default:l(()=>[t(c,null,{default:l(()=>[t(_,null,{default:l(()=>[o(a(i.editInfo.title)+"を再設定します",1)]),_:1}),t(x,null,{default:l(()=>[t(g,null,{default:l(()=>[t(p,{cols:"4"},{default:l(()=>[t(b,null,{default:l(()=>e[11]||(e[11]=[o("現在の設定:")])),_:1})]),_:1}),t(p,{cols:"8",justify:"center"},{default:l(()=>[u("p",null,a(i.editInfo.beforeValue),1)]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(p,{cols:"4"},{default:l(()=>[t(b,null,{default:l(()=>e[12]||(e[12]=[o("再設定値:")])),_:1})]),_:1}),t(p,{cols:"8"},{default:l(()=>[t(R,{modelValue:i.editInfo.afterValue,"onUpdate:modelValue":e[1]||(e[1]=n=>i.editInfo.afterValue=n),density:"compact",type:i.userSettings[i.editInfo.key].type,maxlength:i.userSettings[i.editInfo.key].maxLen,error:!!i.errMsg,"error-messages":i.errMsg},null,8,["modelValue","type","maxlength","error","error-messages"])]),_:1})]),_:1}),i.editInfo.key==="pass"?(r(),y(g,{key:0},{default:l(()=>[t(p,{cols:"4"},{default:l(()=>[t(b,null,{default:l(()=>e[13]||(e[13]=[o("再確認:")])),_:1})]),_:1}),t(p,{cols:"8"},{default:l(()=>[t(R,{modelValue:i.editInfo.afterValueConf,"onUpdate:modelValue":e[2]||(e[2]=n=>i.editInfo.afterValueConf=n),density:"compact",type:i.userSettings[i.editInfo.key].type,maxlength:i.userSettings[i.editInfo.key].maxLen},null,8,["modelValue","type","maxlength"])]),_:1})]),_:1})):k("",!0)]),_:1}),t(C,null,{default:l(()=>[t(f,{color:"primary",onClick:e[3]||(e[3]=n=>i.showEditDialog=!1)},{default:l(()=>e[14]||(e[14]=[o("閉じる")])),_:1}),t(f,{class:"edit-button",text:"確認画面へ","append-icon":"mdi-account-edit-outline",onClick:d.confirmSetting},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(D,{modelValue:i.showConfirmDialog,"onUpdate:modelValue":e[6]||(e[6]=n=>i.showConfirmDialog=n),"max-width":"500"},{default:l(()=>[t(c,null,{default:l(()=>[t(_,null,{default:l(()=>[o(a(i.editInfo.title)+"再設定確認",1)]),_:1}),t(x,null,{default:l(()=>[t(g,null,{default:l(()=>[t(p,{cols:"4"},{default:l(()=>[t(b,null,{default:l(()=>e[15]||(e[15]=[o("現在の設定:")])),_:1})]),_:1}),t(p,{cols:"8",justify:"center"},{default:l(()=>[u("p",null,a(i.editInfo.beforeValue),1)]),_:1})]),_:1}),t(g,null,{default:l(()=>[t(p,{cols:"4"},{default:l(()=>[t(b,null,{default:l(()=>e[16]||(e[16]=[o("再設定値:")])),_:1})]),_:1}),t(p,{cols:"8"},{default:l(()=>[i.editInfo.key==="pass"?(r(),m("p",he,"＊＊＊＊＊＊＊＊")):(r(),m("p",Ve,a(i.editInfo.afterValue),1))]),_:1})]),_:1})]),_:1}),t(C,null,{default:l(()=>[t(f,{color:"primary",onClick:e[5]||(e[5]=n=>i.showConfirmDialog=!1)},{default:l(()=>e[17]||(e[17]=[o("キャンセル")])),_:1}),t(f,{class:"edit-button",text:"設定する","append-icon":"mdi-account-edit-outline",onClick:d.registerSetting},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(D,{modelValue:i.showCompleteDialog,"onUpdate:modelValue":e[8]||(e[8]=n=>i.showCompleteDialog=n),"max-width":"400"},{default:l(()=>[t(c,{"prepend-icon":"mdi-check-circle-outline",title:"変更完了"},{default:l(()=>[t(x,null,{default:l(()=>e[18]||(e[18]=[o(" 変更が完了しました。 ")])),_:1}),t(C,null,{default:l(()=>[t(f,{color:"primary",onClick:e[7]||(e[7]=n=>i.showCompleteDialog=!1)},{default:l(()=>e[19]||(e[19]=[o("閉じる")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ye=M(pe,[["render",ce],["__scopeId","data-v-71985549"]]),_e={name:"ClientTop",components:{ClientInfo:Z,Reservation:oe,ExamHistory:me,UserAccount:ye},data(){return{currentView:"clientInfo"}},methods:{switchView(s){this.currentView=s}}},De={key:"clientInfo"},xe={key:"reservation"},Ce={key:"history"},Se={key:"account"};function ke(s,e,h,v,i,d){const n=U("ClientInfo"),w=U("Reservation"),V=U("ExamHistory"),S=U("UserAccount");return r(),y(I,{class:"pt-10"},{default:l(()=>[t(g,{justify:"center"},{default:l(()=>[t(G,{mode:"out-in"},{default:l(()=>[i.currentView==="clientInfo"?(r(),m("div",De,[t(n,{"current-view":i.currentView,onSwitchView:d.switchView},null,8,["current-view","onSwitchView"])])):i.currentView==="reservation"?(r(),m("div",xe,[t(w,{"current-view":i.currentView,onSwitchView:d.switchView},null,8,["current-view","onSwitchView"])])):i.currentView==="history"?(r(),m("div",Ce,[t(V,{"current-view":i.currentView,onSwitchView:d.switchView},null,8,["current-view","onSwitchView"])])):i.currentView==="account"?(r(),m("div",Se,[t(S,{"current-view":i.currentView,onSwitchView:d.switchView},null,8,["current-view","onSwitchView"])])):k("",!0)]),_:1})]),_:1})]),_:1})}const be=M(_e,[["render",ke],["__scopeId","data-v-e7b9f697"]]);export{be as default};
//# sourceMappingURL=ClientTop-vAoUPEbm.js.map
