import{_ as T,o as a,c as v,w as l,a as e,s as c,l as _,d as n,t as u,m as V,u as M,g as o,j as h,v as I,F as k,f as p,h as D,n as F,p as H,x,q as U,y as L,z as A,A as C,b as f,B as b,C as q,D as N,E as j,V as g,G as S,I as z,e as K,J as O,r as P}from"./index-c8lCQlhz.js";import{g as W}from"./stringUtils-C76NxA_T.js";const G={name:"ClientInfo",data(){return{userName:"山田 太郎",reservation:[{day:"2024/12/10",startTime:"15:00",endTime:"15:15",note:"先週末に岩場で滑落。以降右半身が動きません。何とかしてください。"},{day:"2024/12/15",startTime:"14:30",endTime:"14:45",note:""}]}}},J={class:"list-name"},X={class:"list-value"},Y={class:"list-value"},Q={class:"list-value"};function Z(r,t,w,y,s,d){return a(),v(D,null,{default:l(()=>[e(p,{justify:"center"},{default:l(()=>[e(c,{class:"rsv-info","max-width":"600"},{default:l(()=>[e(_,{class:"card-head"},{default:l(()=>[n(u(s.userName)+" 様 の予約一覧",1)]),_:1}),e(V,{class:"card-body"},{default:l(()=>[e(M,{"fixed-header":""},{default:l(()=>[o("tbody",null,[(a(!0),h(k,null,I(s.reservation,(i,m)=>(a(),h("tr",{key:i},[o("td",J,u(`${m+1}`),1),o("td",X,u(`${i.day}`),1),o("td",Y,u(`${i.startTime}-${i.endTime}`),1),o("td",Q,u(`${i.note}`),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const $=T(G,[["render",Z],["__scopeId","data-v-0bc83549"]]),ee={name:"Reservation",props:{currentView:{type:String,required:!0}},data(){return{showDateSlotDialog:!1,reserveDate:null,daySlots:[],dateError:null,showTimeSlotDialog:!1,reserveTime:null,timeSlots:[],timeError:null,showConfirmDialog:!1,note:"",showCompleteDialog:!1}},created(){this.generateDaySlots(),this.timeSlots=W("10:00","18:00",15)},methods:{generateDaySlots(){const r=["日","月","火","水","木","金","土"],t=new Date;for(let w=0;w<=2;w++){const y=new Date(t);y.setDate(t.getDate()+w);const s=y.getFullYear(),d=String(y.getMonth()+1).padStart(2,"0"),i=String(y.getDate()).padStart(2,"0"),m=r[y.getDay()];this.daySlots.push(`${s}-${d}-${i} (${m})`)}},selectDaySlot(r){this.reserveDate=r,this.reserveTime=null,this.showDateSlotDialog=!1},selectTimeSlot(r){this.reserveTime=r,this.showTimeSlotDialog=!1},validateDate(r){return r&&r!==null},validateTime(r){return r&&r!==""},handleReserve(){this.dateError=null,this.timeError=null,this.validateDate(this.reserveDate)||(this.dateError="Please enter a valid date."),this.validateTime(this.reserveTime)||(this.timeError="Please enter a valid time."),!this.dateError&&!this.timeError&&(this.showConfirmDialog=!0)},registerReservation(){this.showConfirmDialog=!1,this.showCompleteDialog=!0}}},te={key:0},le={key:1},se={class:"text-left"},ie={class:"text-left"},ne={class:"text-left"};function oe(r,t,w,y,s,d){return a(),v(D,null,{default:l(()=>[e(p,{justify:"center"},{default:l(()=>[e(c,{class:"reservation",width:"450"},{default:l(()=>[e(_,{class:"card-head"},{default:l(()=>t[11]||(t[11]=[n(" 受診予約する ")])),_:1}),e(V,{class:"card-body"},{default:l(()=>[e(F,{class:"form",onSubmit:H(d.handleReserve,["prevent"])},{default:l(()=>[e(D,{class:"d-flex flex-column"},{default:l(()=>[e(x,{modelValue:s.showDateSlotDialog,"onUpdate:modelValue":t[2]||(t[2]=i=>s.showDateSlotDialog=i),"max-width":"400px"},{activator:l(({props:i})=>[e(U,L({modelValue:s.reserveDate,"onUpdate:modelValue":t[0]||(t[0]=m=>s.reserveDate=m),label:"予約日を選択してください","prepend-icon":"mdi-calendar",readonly:""},i),null,16,["modelValue"])]),default:l(()=>[e(c,null,{default:l(()=>[e(_,{class:"text-h6"},{default:l(()=>t[12]||(t[12]=[n("予約日選択")])),_:1}),e(V,null,{default:l(()=>[e(A,null,{default:l(()=>[(a(!0),h(k,null,I(s.daySlots,(i,m)=>(a(),v(N,{key:m,onClick:E=>d.selectDaySlot(i)},{default:l(()=>[e(j,null,{default:l(()=>[n(u(i),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(C,null,{default:l(()=>[e(f,{text:"",onClick:t[1]||(t[1]=i=>s.showDateSlotDialog=!1)},{default:l(()=>t[13]||(t[13]=[n("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),this.validateDate(this.reserveDate)?(a(),h("div",te,[e(x,{modelValue:s.showTimeSlotDialog,"onUpdate:modelValue":t[5]||(t[5]=i=>s.showTimeSlotDialog=i),"max-width":"400px"},{activator:l(({props:i})=>[e(U,L({modelValue:s.reserveTime,"onUpdate:modelValue":t[3]||(t[3]=m=>s.reserveTime=m),label:"時刻を選択してください","prepend-icon":"mdi-clock-time-four-outline",readonly:""},i),null,16,["modelValue"])]),default:l(()=>[e(c,null,{default:l(()=>[e(_,{class:"text-h6"},{default:l(()=>t[14]||(t[14]=[n("予約時刻選択")])),_:1}),e(V,null,{default:l(()=>[e(A,null,{default:l(()=>[(a(!0),h(k,null,I(s.timeSlots,(i,m)=>(a(),v(N,{key:m,onClick:E=>d.selectTimeSlot(i)},{default:l(()=>[e(j,null,{default:l(()=>[n(u(i),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(C,null,{default:l(()=>[e(f,{text:"",onClick:t[4]||(t[4]=i=>s.showTimeSlotDialog=!1)},{default:l(()=>t[15]||(t[15]=[n("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):b("",!0),this.validateDate(this.reserveDate)&&this.validateTime(this.reserveTime)?(a(),h("div",le,[e(q,{"prepend-icon":"mdi-comment-edit-outline",label:"備考があれば入力してください",density:"compact",modelValue:this.note,"onUpdate:modelValue":t[6]||(t[6]=i=>this.note=i),modelModifiers:{trim:!0},maxlength:"100",rows:"2"},null,8,["modelValue"])])):b("",!0)]),_:1}),this.validateDate(this.reserveDate)&&this.validateTime(this.reserveTime)?(a(),v(f,{key:0,class:"submit-button",onClick:this.handleReserve,"append-icon":"mdi-calendar"},{default:l(()=>t[16]||(t[16]=[n("予約確認画面へ")])),_:1},8,["onClick"])):b("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(x,{modelValue:s.showConfirmDialog,"onUpdate:modelValue":t[8]||(t[8]=i=>s.showConfirmDialog=i),"max-width":"500"},{default:l(()=>[e(c,null,{default:l(()=>[e(_,null,{default:l(()=>t[17]||(t[17]=[n("この内容で予約します")])),_:1}),e(V,null,{default:l(()=>[e(p,null,{default:l(()=>[e(M,{"fixed-header":"",density:"compact"},{default:l(()=>[o("tbody",null,[o("tr",null,[t[18]||(t[18]=o("td",{class:"text-right"},"予約日 :",-1)),o("td",se,u(s.reserveDate),1)]),o("tr",null,[t[19]||(t[19]=o("td",{class:"text-right"},"時刻 :",-1)),o("td",ie,u(s.reserveTime),1)]),o("tr",null,[t[20]||(t[20]=o("td",{class:"text-right"},"備考 :",-1)),o("td",ne,u(s.note),1)])])]),_:1})]),_:1})]),_:1}),e(C,null,{default:l(()=>[e(f,{color:"primary",onClick:t[7]||(t[7]=i=>s.showConfirmDialog=!1)},{default:l(()=>t[21]||(t[21]=[n("修正する")])),_:1}),e(f,{class:"register-button",text:"予約する","append-icon":"mdi-book-plus-outline",onClick:d.registerReservation},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,{modelValue:s.showCompleteDialog,"onUpdate:modelValue":t[10]||(t[10]=i=>s.showCompleteDialog=i),"max-width":"400"},{default:l(()=>[e(c,{"prepend-icon":"mdi-check-circle-outline",title:"予約完了"},{default:l(()=>[e(V,null,{default:l(()=>t[22]||(t[22]=[n(" 予約が完了しました。"),o("br",null,null,-1),n(" ※ 予約キャンセルは、電話にて承ります。 ")])),_:1}),e(C,null,{default:l(()=>[e(f,{color:"primary",onClick:t[9]||(t[9]=i=>r.$emit("switch-view","clientInfo"))},{default:l(()=>t[23]||(t[23]=[n("閉じる")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ae=T(ee,[["render",oe],["__scopeId","data-v-306fa290"]]),re={name:"ExamHistory",data(){return{userName:"山田 太郎",history:[{idx:1,date:"2024/05/01",time:"10:00-10:30",note:"腰回りを中心にお願いします。"},{idx:2,date:"2024/03/01",time:"15:30-16:00",note:""},{idx:3,date:"2024/02/01",time:"16:00-16:30",note:""}]}}},ue={class:"list-date"},de={class:"list-time"},fe={class:"list-note"};function me(r,t,w,y,s,d){return a(),v(D,null,{default:l(()=>[e(p,{justify:"center"},{default:l(()=>[e(c,{class:"exam-his","max-width":"600"},{default:l(()=>[e(_,{class:"card-head"},{default:l(()=>[n(u(s.userName)+" 様 の受診履歴",1)]),_:1}),e(V,{class:"card-body"},{default:l(()=>[e(M,{"fixed-header":""},{default:l(()=>[o("tbody",null,[(a(!0),h(k,null,I(s.history,i=>(a(),h("tr",{key:i.date},[o("td",ue,u(i.date),1),o("td",de,u(i.time),1),o("td",fe,u(i.note),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const pe=T(re,[["render",me],["__scopeId","data-v-32be1415"]]),ge={name:"AccountInfo",created(){this.userSettings.id.value="h00001",this.userSettings.name.value="山田 太郎",this.userSettings.nameKana.value="ヤマダ タロウ",this.userSettings.mail.value="taro_yamada@xxx.test",this.userSettings.phone.value="090-1111-1111",this.userSettings.pass.value="＊＊＊＊＊＊＊＊"},computed:{getInputType(){return this.userSettings[this.editInfo.key].type==="password"?this.visiblePass?"text":"password":this.userSettings[this.editInfo.key].type},getAppendIcon(){return this.userSettings[this.editInfo.key].type==="password"?this.visiblePass?"mdi-eye-off-outline":"mdi-eye-outline":null}},data(){return{userSettings:{id:{title:"ID",value:"",editable:!1,type:"text",maxLen:0},name:{title:"氏名",value:"",editable:!1,type:"text",maxLen:0},nameKana:{title:"氏名(カナ)",value:"",editable:!1,type:"text",maxLen:0},mail:{title:"メールアドレス",value:"",editable:!0,type:"email",maxLen:255},phone:{title:"電話番号",value:"",editable:!0,type:"text",maxLen:20},pass:{title:"パスワード",value:"",editable:!0,type:"password",maxLen:64}},visiblePass:!1,visiblePassConf:!1,errMsg:"",showEditDialog:!1,editInfo:{key:"",title:"",beforeValue:"",afterValue:"",afterValueConf:""},showConfirmDialog:!1,showCompleteDialog:!1}},methods:{beginEdit(r){this.errMsg="",this.editInfo.key=r,this.editInfo.title=this.userSettings[r].title,this.editInfo.beforeValue=this.userSettings[r].value,this.editInfo.afterValue="",this.editInfo.afterValueConf="",this.showEditDialog=!0},closeEditDialog(){this.showEditDialog=!1,this.visiblePass=!1,this.visiblePassConf=!1},confirmSetting(){switch(this.errMsg="",this.editInfo.key){case"mail":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.editInfo.afterValue)||(this.errMsg="正しいメールアドレスを入力してください");break;case"phone":/^[0-9\-]*$/.test(this.editInfo.afterValue)||(this.errMsg="数字とハイフンのみ入力可能です");break;case"pass":if(this.editInfo.afterValue.length<8){this.errMsg="パスワードは8文字以上で入力してください";break}if(this.editInfo.afterValue!==this.editInfo.afterValueConf){this.errMsg="「再確認」の入力と一致しません";break}break}this.errMsg===""&&(this.showEditDialog=!1,this.showConfirmDialog=!0)},registerSetting(){this.showConfirmDialog=!1,this.showCompleteDialog=!0}}},he={class:"list-title"},ve={class:"list-value"},ce={key:0},Ve={key:0},ye={key:1};function _e(r,t,w,y,s,d){return a(),v(D,null,{default:l(()=>[e(p,{justify:"center"},{default:l(()=>[e(c,{class:"reg-info","max-width":"600"},{default:l(()=>[e(_,{class:"card-head"},{default:l(()=>[n(u(this.userSettings.name.value)+" 様の登録情報",1)]),_:1}),e(V,{class:"card-body"},{default:l(()=>[e(M,{"fixed-header":""},{default:l(()=>[o("tbody",null,[(a(!0),h(k,null,I(s.userSettings,(i,m)=>(a(),h("tr",null,[o("td",he,u(`${i.title} :`),1),o("td",ve,u(i.value),1),t[10]||(t[10]=o("td",null,null,-1)),i.editable?(a(),h("td",ce,[e(f,{icon:"mdi-pencil-outline",color:"blue",size:"x-small",onClick:E=>d.beginEdit(m)},null,8,["onClick"])])):b("",!0)]))),256))])]),_:1})]),_:1})]),_:1})]),_:1}),e(x,{modelValue:s.showEditDialog,"onUpdate:modelValue":t[5]||(t[5]=i=>s.showEditDialog=i),"max-width":"500"},{default:l(()=>[e(c,null,{default:l(()=>[e(_,null,{default:l(()=>[n(u(s.editInfo.title)+"を再設定します",1)]),_:1}),e(V,null,{default:l(()=>[e(p,null,{default:l(()=>[e(g,{cols:"4"},{default:l(()=>[e(S,null,{default:l(()=>t[11]||(t[11]=[n("現在の設定:")])),_:1})]),_:1}),e(g,{class:"mt-2",cols:"8",justify:"center"},{default:l(()=>[o("p",null,u(s.editInfo.beforeValue),1)]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(g,{cols:"4"},{default:l(()=>[e(S,null,{default:l(()=>t[12]||(t[12]=[n("再設定値:")])),_:1})]),_:1}),e(g,{cols:"8"},{default:l(()=>[e(U,{modelValue:s.editInfo.afterValue,"onUpdate:modelValue":t[0]||(t[0]=i=>s.editInfo.afterValue=i),modelModifiers:{trim:!0},density:"compact",type:d.getInputType,maxlength:s.userSettings[s.editInfo.key].maxLen,"append-inner-icon":d.getAppendIcon,"onClick:appendInner":t[1]||(t[1]=i=>s.visiblePass=!s.visiblePass),error:!!s.errMsg,"error-messages":s.errMsg},null,8,["modelValue","type","maxlength","append-inner-icon","error","error-messages"])]),_:1})]),_:1}),s.editInfo.key==="pass"?(a(),v(p,{key:0},{default:l(()=>[e(g,{cols:"4"},{default:l(()=>[e(S,null,{default:l(()=>t[13]||(t[13]=[n("再確認:")])),_:1})]),_:1}),e(g,{cols:"8"},{default:l(()=>[e(U,{modelValue:s.editInfo.afterValueConf,"onUpdate:modelValue":t[2]||(t[2]=i=>s.editInfo.afterValueConf=i),density:"compact",type:s.visiblePassConf?"text":"password",maxlength:s.userSettings[s.editInfo.key].maxLen,"append-inner-icon":s.visiblePassConf?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":t[3]||(t[3]=i=>s.visiblePassConf=!s.visiblePassConf)},null,8,["modelValue","type","maxlength","append-inner-icon"])]),_:1})]),_:1})):b("",!0)]),_:1}),e(C,null,{default:l(()=>[e(f,{color:"primary",onClick:t[4]||(t[4]=i=>d.closeEditDialog())},{default:l(()=>t[14]||(t[14]=[n("閉じる")])),_:1}),e(f,{class:"edit-button",text:"確認画面へ","append-icon":"mdi-account-edit-outline",onClick:d.confirmSetting},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,{modelValue:s.showConfirmDialog,"onUpdate:modelValue":t[7]||(t[7]=i=>s.showConfirmDialog=i),"max-width":"500"},{default:l(()=>[e(c,null,{default:l(()=>[e(_,null,{default:l(()=>[n(u(s.editInfo.title)+"再設定確認",1)]),_:1}),e(V,null,{default:l(()=>[e(p,null,{default:l(()=>[e(g,{class:"list-title",cols:"4"},{default:l(()=>[e(S,null,{default:l(()=>t[15]||(t[15]=[n("現在の設定:")])),_:1})]),_:1}),e(g,{class:"mt-2",cols:"8",justify:"center"},{default:l(()=>[o("p",null,u(s.editInfo.beforeValue),1)]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(g,{cols:"4"},{default:l(()=>[e(S,null,{default:l(()=>t[16]||(t[16]=[n("再設定値:")])),_:1})]),_:1}),e(g,{class:"mt-2",cols:"8"},{default:l(()=>[s.editInfo.key==="pass"?(a(),h("p",Ve,"＊＊＊＊＊＊＊＊")):(a(),h("p",ye,u(s.editInfo.afterValue),1))]),_:1})]),_:1})]),_:1}),e(C,null,{default:l(()=>[e(f,{color:"primary",onClick:t[6]||(t[6]=i=>s.showConfirmDialog=!1)},{default:l(()=>t[17]||(t[17]=[n("キャンセル")])),_:1}),e(z),e(f,{class:"edit-button",text:"設定する","append-icon":"mdi-account-edit-outline",onClick:d.registerSetting},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,{modelValue:s.showCompleteDialog,"onUpdate:modelValue":t[9]||(t[9]=i=>s.showCompleteDialog=i),"max-width":"400"},{default:l(()=>[e(c,{"prepend-icon":"mdi-check-circle-outline",title:"変更完了"},{default:l(()=>[e(V,null,{default:l(()=>t[18]||(t[18]=[n(" 変更が完了しました。 ")])),_:1}),e(C,null,{default:l(()=>[e(f,{color:"primary",onClick:t[8]||(t[8]=i=>s.showCompleteDialog=!1)},{default:l(()=>t[19]||(t[19]=[n("閉じる")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const we=T(ge,[["render",_e],["__scopeId","data-v-1536f33d"]]),xe={name:"ClientTop",components:{ClientInfo:$,Reservation:ae,ExamHistory:pe,UserAccount:we},data(){return{currentView:"reservation"}},methods:{switchView(r){this.currentView=r}}};function Ce(r,t,w,y,s,d){const i=P("ClientInfo"),m=P("Reservation"),E=P("ExamHistory"),B=P("UserAccount");return a(),h(k,null,[e(D,{class:"pt-10"},{default:l(()=>[e(p,null,{default:l(()=>[e(g,null,{default:l(()=>[e(f,{"prepend-icon":"mdi-calendar-check",onClick:t[0]||(t[0]=R=>this.currentView="reservation"),disabled:this.currentView==="reservation"},{default:l(()=>t[4]||(t[4]=[n("受診予約する")])),_:1},8,["disabled"])]),_:1}),e(g,null,{default:l(()=>[e(f,{"prepend-icon":"mdi-calendar-question-outline",onClick:t[1]||(t[1]=R=>this.currentView="clientInfo"),disabled:this.currentView==="clientInfo"},{default:l(()=>t[5]||(t[5]=[n("予約状況")])),_:1},8,["disabled"])]),_:1}),e(g,null,{default:l(()=>[e(f,{"prepend-icon":"mdi-history",onClick:t[2]||(t[2]=R=>this.currentView="history"),disabled:this.currentView==="history"},{default:l(()=>t[6]||(t[6]=[n("受診履歴")])),_:1},8,["disabled"])]),_:1}),e(g,null,{default:l(()=>[e(f,{"prepend-icon":"mdi-account-outline",onClick:t[3]||(t[3]=R=>this.currentView="account"),disabled:this.currentView==="account"},{default:l(()=>t[7]||(t[7]=[n("ユーザ登録情報")])),_:1},8,["disabled"])]),_:1})]),_:1}),e(K,{class:"mt-2",thickness:"2"})]),_:1}),e(D,{class:"pt-10"},{default:l(()=>[e(O,{mode:"out-in"},{default:l(()=>[s.currentView==="clientInfo"?(a(),v(p,{key:"clientInfo"},{default:l(()=>[e(i)]),_:1})):s.currentView==="reservation"?(a(),v(p,{key:"reservation"},{default:l(()=>[e(m,{"current-view":s.currentView,onSwitchView:d.switchView},null,8,["current-view","onSwitchView"])]),_:1})):s.currentView==="history"?(a(),v(p,{key:"history"},{default:l(()=>[e(E)]),_:1})):s.currentView==="account"?(a(),v(p,{key:"account"},{default:l(()=>[e(B)]),_:1})):b("",!0)]),_:1})]),_:1})],64)}const ke=T(xe,[["render",Ce],["__scopeId","data-v-b3d0db56"]]);export{ke as default};
//# sourceMappingURL=ClientTop-80fsuOQA.js.map
