import{_ as S,o,c as v,w as t,a as e,y as u,q as c,d as a,t as n,s as p,z as j,g,l as y,A as k,F as x,f,h as w,u as z,v as H,B as b,x as P,C as L,D as M,E as C,b as h,m as I,G as B,e as U,I as A,J as N,K as q,V as D,L as K,p as E}from"./index-BstKNJky.js";import{g as O}from"./httpUtils-DmG8GWTh.js";const W={name:"ClientInfo",data(){return{userName:"山田 太郎",reservation:[{day:"2024/12/10",startTime:"15:00",endTime:"15:15",note:"先週末に岩場で滑落。以降右半身が動きません。何とかしてください。"},{day:"2024/12/15",startTime:"14:30",endTime:"14:45",note:""}]}},computed:{phone(){return"042-629-9493"}}},G={class:"list-index"},J={class:"list-value"},X={class:"list-value"},Y={class:"cancel-msg"},Q=["href"];function Z(r,l,V,_,s,d){return o(),v(w,null,{default:t(()=>[e(f,{justify:"center"},{default:t(()=>[e(u,{class:"card-usr","max-width":"600"},{default:t(()=>[e(c,{class:"card-head-usr"},{default:t(()=>[a(n(s.userName)+" 様 の予約一覧",1)]),_:1}),e(p,{class:"card-body-usr"},{default:t(()=>[e(j,{"fixed-header":""},{default:t(()=>[g("tbody",null,[(o(!0),y(x,null,k(s.reservation,(i,m)=>(o(),y("tr",{key:i},[g("td",G,n(`${m+1}`),1),g("td",J,n(`${i.day}`),1),g("td",X,n(`${i.startTime} ～ ${i.endTime}`),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{class:"pt-5",justify:"center"},{default:t(()=>[g("p",Y,[l[0]||(l[0]=a("※ キャンセルは電話(")),g("a",{href:`tel:${d.phone.replace(/-/g,"")}`},n(d.phone),9,Q),l[1]||(l[1]=a(")にて承ります。"))])]),_:1})]),_:1})}const $=S(W,[["render",Z],["__scopeId","data-v-030f31ca"]]),ee={name:"Reservation",props:{currentView:{type:String,required:!0}},data(){return{showDateSlotDialog:!1,reserveDate:null,daySlots:[],dateError:null,showTimeSlotDialog:!1,reserveTime:null,timeSlots:[],timeError:null,showConfirmDialog:!1,note:"",showCompleteDialog:!1}},created(){this.generateDaySlots(),this.timeSlots=O("10:00","18:00",15)},methods:{generateDaySlots(){const r=["日","月","火","水","木","金","土"],l=new Date;for(let V=0;V<=2;V++){const _=new Date(l);_.setDate(l.getDate()+V);const s=_.getFullYear(),d=String(_.getMonth()+1).padStart(2,"0"),i=String(_.getDate()).padStart(2,"0"),m=r[_.getDay()];this.daySlots.push(`${s}-${d}-${i} (${m})`)}},selectDaySlot(r){this.reserveDate=r,this.reserveTime=null,this.showDateSlotDialog=!1},selectTimeSlot(r){this.reserveTime=r,this.showTimeSlotDialog=!1},validateDate(r){return r&&r!==null},validateTime(r){return r&&r!==""},handleReserve(){this.dateError=null,this.timeError=null,this.validateDate(this.reserveDate)||(this.dateError="Please enter a valid date."),this.validateTime(this.reserveTime)||(this.timeError="Please enter a valid time."),!this.dateError&&!this.timeError&&(this.showConfirmDialog=!0)},registerReservation(){this.showConfirmDialog=!1,this.showCompleteDialog=!0}},computed:{phone(){return"042-629-9493"}}},te={key:0},le={class:"py-6 text-center"};function se(r,l,V,_,s,d){return o(),v(w,{fluid:""},{default:t(()=>[e(f,{justify:"center"},{default:t(()=>[e(u,{class:"card-usr"},{default:t(()=>[e(c,{class:"card-head-usr"},{default:t(()=>l[10]||(l[10]=[a(" 受診予約する ")])),_:1}),e(p,{class:"card-body-usr"},{default:t(()=>[e(z,{onSubmit:H(d.handleReserve,["prevent"])},{default:t(()=>[e(w,{class:"d-flex flex-column"},{default:t(()=>[e(b,{modelValue:s.showDateSlotDialog,"onUpdate:modelValue":l[2]||(l[2]=i=>s.showDateSlotDialog=i),"max-width":"300px"},{activator:t(({props:i})=>[e(P,L({modelValue:s.reserveDate,"onUpdate:modelValue":l[0]||(l[0]=m=>s.reserveDate=m),label:"予約日を選択してください","prepend-icon":"mdi-calendar",readonly:""},i),null,16,["modelValue"])]),default:t(()=>[e(u,null,{default:t(()=>[e(c,{class:"dialog-card-head"},{default:t(()=>l[11]||(l[11]=[a("予約日選択")])),_:1}),e(p,{class:"dialog-card-body"},{default:t(()=>[e(M,null,{default:t(()=>[(o(!0),y(x,null,k(s.daySlots,(i,m)=>(o(),v(A,{key:m,onClick:T=>d.selectDaySlot(i)},{default:t(()=>[e(N,null,{default:t(()=>[a(n(i),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(h,{text:"",onClick:l[1]||(l[1]=i=>s.showDateSlotDialog=!1)},{default:t(()=>l[12]||(l[12]=[a("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),this.validateDate(this.reserveDate)?(o(),y("div",te,[e(b,{modelValue:s.showTimeSlotDialog,"onUpdate:modelValue":l[5]||(l[5]=i=>s.showTimeSlotDialog=i),"max-width":"300px"},{activator:t(({props:i})=>[e(P,L({modelValue:s.reserveTime,"onUpdate:modelValue":l[3]||(l[3]=m=>s.reserveTime=m),label:"時刻を選択してください","prepend-icon":"mdi-clock-time-four-outline",readonly:""},i),null,16,["modelValue"])]),default:t(()=>[e(u,null,{default:t(()=>[e(c,{class:"dialog-card-head"},{default:t(()=>l[13]||(l[13]=[a("予約時刻選択")])),_:1}),e(p,{class:"dialog-card-body"},{default:t(()=>[e(M,null,{default:t(()=>[(o(!0),y(x,null,k(s.timeSlots,(i,m)=>(o(),v(A,{key:m,onClick:T=>d.selectTimeSlot(i)},{default:t(()=>[e(N,null,{default:t(()=>[a(n(i),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(h,{text:"",onClick:l[4]||(l[4]=i=>s.showTimeSlotDialog=!1)},{default:t(()=>l[14]||(l[14]=[a("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):I("",!0)]),_:1}),this.validateDate(this.reserveDate)&&this.validateTime(this.reserveTime)?(o(),v(h,{key:0,class:"usr-button",onClick:this.handleReserve,"append-icon":"mdi-calendar"},{default:t(()=>l[15]||(l[15]=[a("予約確認画面へ")])),_:1},8,["onClick"])):I("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(b,{modelValue:s.showConfirmDialog,"onUpdate:modelValue":l[7]||(l[7]=i=>s.showConfirmDialog=i),"max-width":"400",attach:""},{default:t(()=>[e(u,null,{default:t(()=>[e(c,{class:"dialog-card-head"},{default:t(()=>l[16]||(l[16]=[a("この内容で予約します")])),_:1}),e(p,null,{default:t(()=>[e(f,null,{default:t(()=>[e(u,{variant:"outlined",class:"confirm-card"},{default:t(()=>[e(c,{class:"confirm-card-head"},{default:t(()=>l[17]||(l[17]=[a("予約日")])),_:1}),e(p,{class:"confirm-card-body pt-3"},{default:t(()=>[a(n(s.reserveDate),1)]),_:1})]),_:1}),e(u,{variant:"outlined",class:"confirm-card"},{default:t(()=>[e(c,{class:"confirm-card-head"},{default:t(()=>l[18]||(l[18]=[a("時刻")])),_:1}),e(p,{class:"confirm-card-body pt-3"},{default:t(()=>[a(n(s.reserveTime),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(h,{color:"primary",onClick:l[6]||(l[6]=i=>s.showConfirmDialog=!1)},{default:t(()=>l[19]||(l[19]=[a("修正する")])),_:1}),e(h,{class:"usr-button",text:"予約する","append-icon":"mdi-book-plus-outline",onClick:d.registerReservation},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(b,{modelValue:s.showCompleteDialog,"onUpdate:modelValue":l[9]||(l[9]=i=>s.showCompleteDialog=i),"max-width":"400"},{default:t(()=>[e(u,null,{default:t(()=>[g("div",le,[e(B,{color:"success",icon:"mdi-check-circle-outline",size:"64"}),l[20]||(l[20]=g("div",{class:"mb-2"},"予約が完了しました。",-1))]),e(U),e(C,null,{default:t(()=>[e(h,{color:"primary",onClick:l[8]||(l[8]=i=>r.$emit("switch-view","clientInfo"))},{default:t(()=>l[21]||(l[21]=[a("閉じる")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ie=S(ee,[["render",se],["__scopeId","data-v-53442e50"]]),ae={name:"ExamHistory",data(){return{userName:"山田 太郎",history:[{idx:1,date:"2024/05/01",time:"10:00 ～ 10:30",note:"腰回りを中心にお願いします。"},{idx:2,date:"2024/03/01",time:"15:30 ～ 16:00",note:""},{idx:3,date:"2024/02/01",time:"16:00 ～ 16:30",note:""}]}}},ne={class:"list-index"},oe={class:"list-date"},re={class:"list-time"};function de(r,l,V,_,s,d){return o(),v(w,null,{default:t(()=>[e(f,{justify:"center"},{default:t(()=>[e(u,{class:"card-usr","max-width":"600"},{default:t(()=>[e(c,{class:"card-head-usr"},{default:t(()=>[a(n(s.userName)+" 様 の受診履歴",1)]),_:1}),e(p,{class:"card-body-usr"},{default:t(()=>[e(j,{"fixed-header":""},{default:t(()=>[g("tbody",null,[(o(!0),y(x,null,k(s.history,(i,m)=>(o(),y("tr",{key:i.date},[g("td",ne,n(`${m+1}`),1),g("td",oe,n(i.date),1),g("td",re,n(i.time),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ue=S(ae,[["render",de],["__scopeId","data-v-4d0e3924"]]),fe={name:"AccountInfo",created(){this.userSettings.id.value="h00001",this.userSettings.name.value="山田 太郎",this.userSettings.nameKana.value="ヤマダ タロウ",this.userSettings.mail.value="taro_yamada@xxx.test",this.userSettings.phone.value="090-1111-1111",this.userSettings.pass.value="＊＊＊＊＊＊＊＊(非表示)"},computed:{getInputType(){return this.userSettings[this.editInfo.key].type==="password"?this.visiblePass?"text":"password":this.userSettings[this.editInfo.key].type},getAppendIcon(){return this.userSettings[this.editInfo.key].type==="password"?this.visiblePass?"mdi-eye-off-outline":"mdi-eye-outline":null}},data(){return{userSettings:{id:{title:"ID",value:"",editable:!1,type:"text",maxLen:0},name:{title:"氏名",value:"",editable:!1,type:"text",maxLen:0},nameKana:{title:"氏名(カナ)",value:"",editable:!1,type:"text",maxLen:0},mail:{title:"メールアドレス",value:"",editable:!0,type:"email",maxLen:255},phone:{title:"電話番号",value:"",editable:!0,type:"text",maxLen:20},pass:{title:"パスワード",value:"",editable:!0,type:"password",maxLen:64}},visiblePass:!1,visiblePassConf:!1,errMsg:"",showEditDialog:!1,editInfo:{key:"",title:"",beforeValue:"",afterValue:"",afterValueConf:""},showConfirmDialog:!1,showCompleteDialog:!1}},methods:{beginEdit(r){this.errMsg="",this.editInfo.key=r,this.editInfo.title=this.userSettings[r].title,this.editInfo.beforeValue=this.userSettings[r].value,this.editInfo.afterValue="",this.editInfo.afterValueConf="",this.showEditDialog=!0},closeEditDialog(){this.showEditDialog=!1,this.visiblePass=!1,this.visiblePassConf=!1},confirmSetting(){switch(this.errMsg="",this.editInfo.key){case"mail":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.editInfo.afterValue)||(this.errMsg="正しいメールアドレスを入力してください");break;case"phone":/^[0-9\-]*$/.test(this.editInfo.afterValue)||(this.errMsg="数字とハイフンのみ入力可能です");break;case"pass":if(this.editInfo.afterValue.length<8){this.errMsg="パスワードは8文字以上で入力してください";break}if(this.editInfo.afterValue!==this.editInfo.afterValueConf){this.errMsg="「再確認」の入力と一致しません";break}break}this.errMsg===""&&(this.showEditDialog=!1,this.showConfirmDialog=!0)},registerSetting(){this.showConfirmDialog=!1,this.showCompleteDialog=!0}}},me={key:0},ce={key:1},pe={class:"py-6 text-center"};function he(r,l,V,_,s,d){return o(),v(w,null,{default:t(()=>[e(f,{justify:"center"},{default:t(()=>[e(u,{class:"card-usr","max-width":"600"},{default:t(()=>[e(c,{class:"card-head-usr"},{default:t(()=>[a(n(this.userSettings.name.value)+" 様の登録情報",1)]),_:1}),e(p,{class:"card-body-usr"},{default:t(()=>[e(w,null,{default:t(()=>[(o(!0),y(x,null,k(s.userSettings,(i,m)=>(o(),v(f,null,{default:t(()=>[e(u,{variant:"flat",class:"card-sub"},{default:t(()=>[e(c,{class:"card-head-sub list-title"},{default:t(()=>[a(n(i.title),1)]),_:2},1024),e(p,{class:"card-body-sub list-value pl-6 pt-2"},{default:t(()=>[e(f,null,{default:t(()=>[e(D,{cols:"10"},{default:t(()=>[a(n(i.value),1)]),_:2},1024),i.editable?(o(),v(D,{key:0,cols:"2",justify:"right"},{default:t(()=>[e(h,{class:"edit-button",icon:"mdi-pencil-outline",size:"x-small",onClick:T=>d.beginEdit(m)},null,8,["onClick"])]),_:2},1024)):I("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{modelValue:s.showEditDialog,"onUpdate:modelValue":l[5]||(l[5]=i=>s.showEditDialog=i),"max-width":"500",attach:""},{default:t(()=>[e(u,null,{default:t(()=>[e(c,{class:"dialog-card-head"},{default:t(()=>[a(n(s.editInfo.title)+"の再設定",1)]),_:1}),e(p,{class:"dialog-card-body"},{default:t(()=>[e(f,null,{default:t(()=>[e(u,{variant:"flat",class:"card-sub"},{default:t(()=>[e(c,{class:"card-head-sub list-title"},{default:t(()=>[a("現在の"+n(s.editInfo.title),1)]),_:1}),e(p,{class:"card-body-sub list-value pl-6 pt-2"},{default:t(()=>[a(n(s.editInfo.beforeValue),1)]),_:1})]),_:1}),e(u,{variant:"flat",class:"card-sub"},{default:t(()=>[e(c,{class:"card-head-sub list-title"},{default:t(()=>[a("新しい"+n(s.editInfo.title),1)]),_:1}),e(p,{class:"card-body-sub list-value pl-6 pt-2"},{default:t(()=>[e(f,null,{default:t(()=>[e(P,{class:"pt-4",label:`新しい${s.editInfo.title}`,modelValue:s.editInfo.afterValue,"onUpdate:modelValue":l[0]||(l[0]=i=>s.editInfo.afterValue=i),modelModifiers:{trim:!0},density:"compact",type:d.getInputType,maxlength:s.userSettings[s.editInfo.key].maxLen,"append-inner-icon":d.getAppendIcon,"onClick:appendInner":l[1]||(l[1]=i=>s.visiblePass=!s.visiblePass),error:!!s.errMsg,"error-messages":s.errMsg},null,8,["label","modelValue","type","maxlength","append-inner-icon","error","error-messages"])]),_:1}),s.editInfo.key==="pass"?(o(),v(f,{key:0},{default:t(()=>[e(P,{label:`新しい${s.editInfo.title} (確認用)`,modelValue:s.editInfo.afterValueConf,"onUpdate:modelValue":l[2]||(l[2]=i=>s.editInfo.afterValueConf=i),density:"compact",type:s.visiblePassConf?"text":"password",maxlength:s.userSettings[s.editInfo.key].maxLen,"append-inner-icon":s.visiblePassConf?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":l[3]||(l[3]=i=>s.visiblePassConf=!s.visiblePassConf)},null,8,["label","modelValue","type","maxlength","append-inner-icon"])]),_:1})):I("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(h,{color:"primary",onClick:l[4]||(l[4]=i=>d.closeEditDialog())},{default:t(()=>l[10]||(l[10]=[a("閉じる")])),_:1}),e(h,{class:"usr-button",text:"確認画面へ","append-icon":"mdi-account-edit-outline",onClick:d.confirmSetting},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(b,{modelValue:s.showConfirmDialog,"onUpdate:modelValue":l[7]||(l[7]=i=>s.showConfirmDialog=i),"max-width":"500",attach:""},{default:t(()=>[e(u,null,{default:t(()=>[e(c,{class:"dialog-card-head"},{default:t(()=>[a(n(s.editInfo.title)+" 再設定の確認",1)]),_:1}),e(p,null,{default:t(()=>[e(f,null,{default:t(()=>[e(u,{variant:"outlined",class:"confirm-card"},{default:t(()=>[e(c,{class:"confirm-card-head"},{default:t(()=>[a("現在の"+n(s.editInfo.title),1)]),_:1}),e(p,{class:"confirm-card-body pt-3"},{default:t(()=>[a(n(s.editInfo.beforeValue),1)]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(u,{variant:"outlined",class:"confirm-card"},{default:t(()=>[e(c,{class:"confirm-card-head"},{default:t(()=>[a("新しい"+n(s.editInfo.title),1)]),_:1}),e(p,{class:"confirm-card-body pt-3"},{default:t(()=>[s.editInfo.key==="pass"?(o(),y("p",me,"＊＊＊＊＊＊＊＊(非表示)")):(o(),y("p",ce,n(s.editInfo.afterValue),1))]),_:1})]),_:1})]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(h,{color:"primary",onClick:l[6]||(l[6]=i=>s.showConfirmDialog=!1)},{default:t(()=>l[11]||(l[11]=[a("キャンセル")])),_:1}),e(q),e(h,{class:"usr-button",text:"設定する","append-icon":"mdi-account-edit-outline",onClick:d.registerSetting},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(b,{modelValue:s.showCompleteDialog,"onUpdate:modelValue":l[9]||(l[9]=i=>s.showCompleteDialog=i),"max-width":"400"},{default:t(()=>[e(u,null,{default:t(()=>[g("div",pe,[e(B,{color:"success",icon:"mdi-check-circle-outline",size:"64"}),l[12]||(l[12]=g("div",{class:"mb-2"},"設定が完了しました。",-1))]),e(U),e(C,null,{default:t(()=>[e(h,{color:"primary",onClick:l[8]||(l[8]=i=>s.showCompleteDialog=!1)},{default:t(()=>l[13]||(l[13]=[a("閉じる")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ge=S(fe,[["render",he],["__scopeId","data-v-1a4adf32"]]),ve={name:"ClientTop",components:{ClientInfo:$,Reservation:ie,ExamHistory:ue,UserAccount:ge},data(){return{currentView:"reservation"}},methods:{switchView(r){this.currentView=r}}};function ye(r,l,V,_,s,d){const i=E("ClientInfo"),m=E("Reservation"),T=E("ExamHistory"),F=E("UserAccount");return o(),y(x,null,[e(w,{class:"pt-10"},{default:t(()=>[e(f,null,{default:t(()=>[e(D,null,{default:t(()=>[e(h,{class:"menu-button","prepend-icon":"mdi-calendar-check",onClick:l[0]||(l[0]=R=>this.currentView="reservation"),disabled:this.currentView==="reservation"},{default:t(()=>l[4]||(l[4]=[a("受診予約する")])),_:1},8,["disabled"])]),_:1}),e(D,null,{default:t(()=>[e(h,{class:"menu-button","prepend-icon":"mdi-calendar-question-outline",onClick:l[1]||(l[1]=R=>this.currentView="clientInfo"),disabled:this.currentView==="clientInfo"},{default:t(()=>l[5]||(l[5]=[a("予約状況")])),_:1},8,["disabled"])]),_:1}),e(D,null,{default:t(()=>[e(h,{class:"menu-button","prepend-icon":"mdi-history",onClick:l[2]||(l[2]=R=>this.currentView="history"),disabled:this.currentView==="history"},{default:t(()=>l[6]||(l[6]=[a("受診履歴")])),_:1},8,["disabled"])]),_:1}),e(D,null,{default:t(()=>[e(h,{class:"menu-button","prepend-icon":"mdi-account-outline",onClick:l[3]||(l[3]=R=>this.currentView="account"),disabled:this.currentView==="account"},{default:t(()=>l[7]||(l[7]=[a("ユーザ登録情報")])),_:1},8,["disabled"])]),_:1})]),_:1}),e(U,{class:"mt-2",thickness:"2"})]),_:1}),e(w,{class:"pt-10"},{default:t(()=>[e(K,{mode:"out-in"},{default:t(()=>[s.currentView==="clientInfo"?(o(),v(f,{key:"clientInfo"},{default:t(()=>[e(i)]),_:1})):s.currentView==="reservation"?(o(),v(f,{key:"reservation"},{default:t(()=>[e(m,{"current-view":s.currentView,onSwitchView:d.switchView},null,8,["current-view","onSwitchView"])]),_:1})):s.currentView==="history"?(o(),v(f,{key:"history"},{default:t(()=>[e(T)]),_:1})):s.currentView==="account"?(o(),v(f,{key:"account"},{default:t(()=>[e(F)]),_:1})):I("",!0)]),_:1})]),_:1})],64)}const we=S(ve,[["render",ye],["__scopeId","data-v-10724ce6"]]);export{we as default};
//# sourceMappingURL=ClientTop-B5FJZfU7.js.map
